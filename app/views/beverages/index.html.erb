<div class="container mx-auto p-4">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold text-gray-800">My Beverage Tracker</h1>
    <%= link_to 'Track New Beverage', new_beverage_path, class: 'bg-green-500 hover:bg-green-700 text-white px-4 py-2 rounded' %>
  </div>

  <% if @beverages.empty? %>
    <div class="bg-blue-100 border border-blue-300 text-blue-700 p-4 rounded">
      <p>You haven't tracked any beverages yet. Start tracking to monitor your intake!</p>
    </div>
  <% else %>
    <table class="w-full border-collapse border border-gray-300 rounded overflow-hidden shadow-md">
      <thead>
        <tr class="bg-gray-100 text-gray-700">
          <th class="py-2 px-4 border">Date</th>
          <th class="py-2 px-4 border">Time</th>
          <th class="py-2 px-4 border">Beverage</th>
          <th class="py-2 px-4 border">Quantity</th>
          <th class="py-2 px-4 border text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @beverages.each do |beverage| %>
          <tr class="hover:bg-gray-50">
            <td class="py-2 px-4 border"><%= beverage.date %></td>
            <td class="py-2 px-4 border"><%= beverage.consumption_time&.strftime("%I:%M %p") %></td>
            <td class="py-2 px-4 border">
              <% if beverage.category.present? %>
                <%= beverage.category %>
                <% if beverage.subcategory.present? %>
                  - <%= beverage.subcategory %>
                <% end %>
              <% else %>
                N/A
              <% end %>
            </td>
            <td class="py-2 px-4 border">
              <% if beverage.unit.present? %>
                <%= "#{beverage.quantity} #{beverage.unit}" %>
              <% else %>
                N/A
              <% end %>
            </td>
            <td class="py-2 px-4 border text-center">
              <%= link_to 'View', beverage, class: 'text-blue-500 hover:underline mr-2' %>
              <%= link_to 'Edit', edit_beverage_path(beverage), class: 'text-yellow-500 hover:underline mr-2' %>

              <%= button_to 'Delete',
                beverage_path(beverage),
                method: :delete,
                data: {
                  turbo_method: :delete,
                  turbo_confirm: 'Are you sure you want to delete this beverage?'
                },
                class: 'inline-block bg-red-500 hover:bg-red-700 text-white px-2 py-1 rounded' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
</div>